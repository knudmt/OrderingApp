<html lang="en">
<head>
  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <title>test page</title>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
    <!-- Bootstrap core CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
    

</head>

<body>

  



    <!-- table testing -->
    <table id="basicTable" class="table table-striped table-bordered table-hover" cellspacing="0" width="100%">
        <tr>
             <div  id="result">waiting for result</div>
        </tr>
    </table>




</body>

<script src="../js/concessions.js"></script>
<script src="../js/menus.js"></script>

<!-- JQuery -->
<!--<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

<script type="text/javascript" src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
<!-- Bootstrap tooltips -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
<!-- Bootstrap core JavaScript -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/js/bootstrap.min.js"></script>




<script>
    function concat(){
    var result = document.getElementById("result");
    result.innerText = name;
}
  
var m = new Menus("1");
var menu = m.getMenus();
var name = menu.menus.menu.concessionName;


function getMenu(){
    concat(); 
    var formatted = m.format(menu);
    
    

    var table = $('#basicTable').DataTable({
        "fnCreatedRow": function( nRow, aData, iDataIndex ) {
           $('td:eq(0)', nRow).append("<div class='col1d'><button class='editBut'><img >Add to Cart</button></div>");
       },
                    data: formatted,
                    columns:[{
                        title: "Menu Items"
                    }],
                });
    $('#basicTable').on('click', 'button', function () {
         var data = table.row( this ).data();
         var row = $(this).find('td:first').text();
         
         
    } );
    $('#basicTable').find('tr').click( function(){
        var row = $(this).find('td:first').text();
        var addCart = "Add to Cart"
        var s = row.replace(addCart, '')
        alert(s + " added to Cart");
    });


    console.log("Menu for: " +  menu.menus.menu.categories[0].menuItems[0].name + ',' + " has an id of: " + menu.menus.id);
}


window.onload = getMenu();



</script>

</html>