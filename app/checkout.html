<html>
  <head>
    <meta charset="utf-8" />
    <title>Accomapny Delivery</title>
    <meta name="description" content="A demo of Stripe Payment Intents" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link res="stylesheet" href="css/global.css">
    <link res="stylesheet" href="css/normalize.css">

    <script src="https://js.stripe.com/v3/"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
   
    
  </head>
  
<body>

<div class="container-fluid" style="width: 50%;">
  <div class="input-group mb-3">
    <div class="input-group-prepend">
    </div>
    <input id="first_name" type="text" class="form-control" placeholder="First Name" aria-label="First name" aria-describedby="basic-addon1">
  </div>
  
  <div class="input-group mb-3">
    <input id="last_name" type="text" class="form-control" placeholder="Last Name" aria-label="Last Name" aria-describedby="basic-addon2">
    <div class="input-group-append">
    </div>
  </div>

  <div class="input-group mb-3">
    <input id="terminal" type="text" class="form-control" placeholder="Terminal" aria-label="Terminal" aria-describedby="basic-addon2">
    <div class="input-group-append">
    </div>
  </div>

  <div class="input-group mb-3">
    <input id="gate" type="text" class="form-control" placeholder="Gate" aria-label="Gate" aria-describedby="basic-addon2">
    <div class="input-group-append">
    </div>
  </div>
  
  <div class="input-group mb-3">
    <input id="phone" type="text" class="form-control" placeholder="phone" aria-label="phone" aria-describedby="basic-addon2">
    <div class="input-group-append">
    </div>
  </div>


  <div class="input-group mb-3">
    <input id="email" type="text" class="form-control" placeholder="Email" aria-label="Email" aria-describedby="basic-addon2">
    <div class="input-group-append">
      <span class="input-group-text" id="basic-addon2">@example.com</span>
    </div>
  </div>
  
  <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text">$</span>
    </div>
    <input id="tip" type="number" class="form-control" placeholder="tip" aria-label="Amount">
  </div>
</div> 
  
  
<div class="card" style="width: 30rem; margin: 0 auto; float: none; margin-bottom: 10px;">
  <div class="card-body">
    <h5 class="card-title">Payment</h5>
    <div class="sr-root">
      <div class="sr-main">
        <form id="payment-form" class="sr-payment-form">
          <div class="sr-combo-inputs-row">
            <div class="sr-input sr-card-element" id="card-element"></div>
          </div>
          <div class="sr-field-error" id="card-errors" role="alert"></div>
          <br/>
          <button id="submit">
            <div class="spinner hidden" id="spinner"></div>
            <span id="button-text">Pay </span><span id="order-amount"></span>
          </button>
        </form>
        <div class="sr-result hidden">
          <p>Payment completed<br /></p>
          <pre>
            <code></code>
          </pre>
        </div>
      </div>
    </div>
  </div>
</div>

  
  <script src="../js/charge.js"></script>  
  <script src="../js/appUser.js"></script>
  <script src="../js/appItems.js"></script>
  <script src="../js/appDelivery.js"></script>
  <script src="../js/swiftOrder.js"></script>
  
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

  <script>

    function init(){
      var total = parseFloat(localStorage.getItem('cartTotal')).toFixed(2);

      console.log('cart total = ' + total);
      var order = { amount: total };
      var chrg = new Charge(order);
      
      $('#order-amount').text('$' + total);
      $('#tip').on('input',function(e){
          if ($('#tip').val().length > 0){
            var total2 = Number(total) + Number(parseFloat($('#tip').val()).toFixed(2));;
            $('#order-amount').text('$' + total2);
          } else {
            $('#order-amount').text('$' + total);
          }
      });
    }
    
    window.onload = init();
  </script>
</body>



</html>

